<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <link media="all" rel="stylesheet" href="../../css/bootstrap.min.css">
  <link media="all" rel="stylesheet" href="../../css/custom.css">
</head>
<body>

<!-- Available Restaurants Screen -->
<section class="screen" id="available-restaurants">

  <div class="body">
    <div class="content">
      <div class="row border-bottom pb-1">
        <div class="col-xs-12">
          <h3 class="text-bold mb-1">Find a table</h3>
          <p class="text-muted">
            You're sure to enjoy one these fine restaurants, recommended just for you.
          </p>
        </div>
      </div>
      <div class="row bg-light-grey border-bottom">
        <div class="col-xs-12">
          &nbsp;
        </div>
      </div>
      <a class="row border-bottom vertical-align list-item-next" data-direction="gary-danko" data-restaurant="Gary Danko" data-thumb="../../img/gary-danko-thumb.jpg">
        <div class="col-xs-3 pr-0">
          <img src="../../img/gary-danko-thumb.jpg" alt="Preview of Restaurant Gary Danko" class="full-width">
        </div>
        <div class="col-xs-9">
          <h4 class="mt-2 mb-1">Restaurant Gary Danko</h4>
          <p class="mb-2 text-muted">
            Restaurant Gary Danko provides an award-winning combination of classic French cooking, thoughtful and inventive use of local ingredients, and personable yet impeccable service.
          </p>
        </div>
      </a>
      <a class="row border-bottom vertical-align list-item-next" data-direction="lazy-bear" data-restaurant="Lazy Bear" data-thumb="../../img/lazy-bear-thumb.jpg">
        <div class="col-xs-3 pr-0">
          <img src="../../img/lazy-bear-thumb.jpg" alt="Preview of Lazy Bear" class="full-width">
        </div>
        <div class="col-xs-9">
          <h4 class="mt-2 mb-1">Lazy Bear</h4>
          <p class="mb-2 text-muted">
            Lazy Bear is not your average restaurant. You sit where you're told, eat what's put in front of you, and make polite conversation with strangers throughout the meal.
          </p>
        </div>
      </a>
      <a class="row border-bottom vertical-align list-item-next" data-direction="saison" data-restaurant="Saison" data-thumb="../../img/saison-thumb.jpg">
        <div class="col-xs-3 pr-0">
          <img src="../../img/saison-thumb.jpg" alt="Preview of Saison" class="full-width">
        </div>
        <div class="col-xs-9">
          <h4 class="mt-2 mb-1">Saison</h4>
          <p class="mb-2 text-muted">
            A meal at Saison is whatever you want it to be—within reason. There are no set menus. Our team tailors each diner’s experience to the individual’s preferences and desired duration.
          </p>
        </div>
      </a>
    </div> <!-- /.content -->

  </div>  <!-- /.body -->

</section> 

<!-- Gary Danko Screen -->
<section class="screen" id="gary-danko">

  <div class="body pt-0">
    <img class="full-width" src="../../img/gary-danko.jpg" alt="Photo of Restaurant Gary Danko">
    <div class="content">
      <h3 class="mt-3 mb-2 text-bold">Restaurant Gary Danko</h3>
      <p class="mb-2">Restaurant Gary Danko provides an award-winning combination of classic French cooking, thoughtful and inventive use of local ingredients, and personable yet impeccable service.</p>

      <iframe class="mt-0 mb-3" width="100%" height="150px" frameBorder="0" src="https://www.google.com/maps/embed/v1/place?q=Gary%20Danko%20800%20N%20Point%20St%2C%20San%20Francisco%2C%20CA%2094109-1228&key=AIzaSyBjwTywkNxl3IHp1Vuhi-ijd-XVvjcVNNc">
      </iframe>  

      <p class="spec-label text-uppercase">Cuisines</p><p class="spec-detail">American, Contemporary, Gluten Free Options</p>
      <p class="spec-label text-uppercase">Price</p><p class="spec-detail">$$$$</p>
      <p class="spec-label text-uppercase">Ratings</p><p class="spec-detail"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>&nbsp;Service</p>
      <p class="spec-label text-uppercase"></p><p class="spec-detail"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot empty"></span>&nbsp;Food</p>
      <p class="spec-label text-uppercase"></p><p class="spec-detail"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>&nbsp;Value</p>
      <p class="spec-label text-uppercase"></p><p class="spec-detail"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot empty"></span>&nbsp;Atmosphere</p>
      <p class="spec-label text-uppercase">Location</p><p class="spec-detail">800 N Point St, San Francisco, CA 94109-1228</p>
    </div> <!-- /.content -->

  </div>  <!-- /.body -->

  <nav class="actions">
    <button class="btn btn-default action-back" data-direction="available-restaurants">Back</button>
    <button class="btn btn-dark-red action-next" data-direction="available-date">Reserve a table</button>
  </nav>

</section>

<!-- Lazy Bear Screen -->
<section class="screen" id="lazy-bear">

  <div class="body pt-0">
    <img class="full-width" src="../../img/lazy-bear.jpg" alt="Photo of Lazy Bear">
    <div class="content">
      <h3 class="mt-3 mb-2 text-bold">Lazy Bear</h3>
      <p class="mb-2">Lazy Bear is not your average restaurant. You sit where you're told, eat what's put in front of you, and make polite conversation with strangers throughout the meal.</p>

      <iframe class="mt-0 mb-3" width="100%" height="150px" frameBorder="0" src="https://www.google.com/maps/embed/v1/place?q=Lazy%20Bear%203416%2019th%20St%2C%20San%20Francisco%2C%20CA%2094110-1727&key=AIzaSyBjwTywkNxl3IHp1Vuhi-ijd-XVvjcVNNc">
      </iframe>      

      <p class="spec-label text-uppercase">Cuisines</p><p class="spec-detail">American</p>
      <p class="spec-label text-uppercase">Price</p><p class="spec-detail">$$$$</p>
      <p class="spec-label text-uppercase">Ratings</p><p class="spec-detail"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot empty"></span>&nbsp;Service</p>
      <p class="spec-label text-uppercase"></p><p class="spec-detail"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>&nbsp;Food</p>
      <p class="spec-label text-uppercase"></p><p class="spec-detail"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot empty"></span>&nbsp;Value</p>
      <p class="spec-label text-uppercase"></p><p class="spec-detail"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>&nbsp;Atmosphere</p>
      <p class="spec-label text-uppercase">Location</p><p class="spec-detail">3416 19th St, San Francisco, CA 94110-1727</p>
    </div> <!-- /.content -->
   
  </div>  <!-- /.body -->

  <nav class="actions">
    <button class="btn btn-default action-back" data-direction="available-restaurants">Back</button>
    <button class="btn btn-dark-red action-next" data-direction="available-date">Reserve a table</button>
  </nav>

</section>

<!-- Saison Screen -->
<section class="screen" id="saison">

  <div class="body pt-0">
    <img class="full-width" src="../../img/saison.jpg" alt="Photo of Saison">
    <div class="content">
      <h3 class="mt-3 mb-2 text-bold">Saison</h3>
      <p class="mb-2">A meal at Saison is whatever you want it to be—within reason. There are no set menus. Our team tailors each diner’s experience to the individual’s preferences and desired duration.</p>

      <iframe class="mt-0 mb-3" width="100%" height="150px" frameBorder="0" src="https://www.google.com/maps/embed/v1/place?q=Saison%20178%20Townsend%20St%2C%20San%20Francisco%2C%20CA%2094107-1919&key=AIzaSyBjwTywkNxl3IHp1Vuhi-ijd-XVvjcVNNc">
      </iframe>  

      <p class="spec-label text-uppercase">Cuisines</p><p class="spec-detail">American, Contemporary, Gluten Free Options</p>
      <p class="spec-label text-uppercase">Price</p><p class="spec-detail">$$$$</p>
      <p class="spec-label text-uppercase">Ratings</p><p class="spec-detail"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot empty"></span>&nbsp;Service</p>
      <p class="spec-label text-uppercase"></p><p class="spec-detail"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot empty"></span>&nbsp;Food</p>
      <p class="spec-label text-uppercase"></p><p class="spec-detail"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>&nbsp;Value</p>
      <p class="spec-label text-uppercase"></p><p class="spec-detail"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>&nbsp;Atmosphere</p>
      <p class="spec-label text-uppercase">Location</p><p class="spec-detail">178 Townsend St, San Francisco, CA 94107-1919</p>
    </div> <!-- /.content -->
   
  </div>  <!-- /.body -->

  <nav class="actions">
    <button class="btn btn-default action-back" data-direction="available-restaurants">Back</button>
    <button class="btn btn-dark-red action-next" data-direction="available-date">Reserve a table</button>
  </nav>

</section>

<!-- Available Dates Screen -->
<section class="screen" id="available-date">

  <div class="body">
    <div class="content">
      <div class="row border-bottom pb-1">
        <div class="col-xs-12">
          <h3 class="text-bold mb-1">Book a reservation</h3>
          <p class="text-muted">
            Choose the time that best suits you. You will confirm your reservation on the next screen.
          </p>
        </div>
      </div>
      <div class="row bg-light-grey border-bottom">
        <div class="col-xs-12">
          <h5 class="text-uppercase mt-2">Available date & time</h5>
        </div>
      </div>
      <div class="row border-bottom vertical-align list-item-next" data-direction="next">
        <div class="col-xs-12">
          <h4 class="mt-2 mb-1">Dec 4, 2017</h4>
          <div class="flex-container flex-wrap pb-1">
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 4, 2017" data-time="6:00 pm">6:00 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 4, 2017" data-time="6:30 pm">6:30 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 4, 2017" data-time="7:00 pm">7:00 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 4, 2017" data-time="7:30 pm">7:30 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 4, 2017" data-time="8:00 pm">8:00 pm</button>
          </div>
        </div>
      </div>
      <div class="row border-bottom vertical-align list-item-next" data-direction="next">
        <div class="col-xs-12">
          <h4 class="mt-2 mb-1">Dec 5, 2017</h4>
          <div class="flex-container flex-wrap pb-1">
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 5, 2017" data-time="7:00 pm">7:00 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 5, 2017" data-time="8:30 pm">8:30 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 5, 2017" data-time="9:00 pm">9:00 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 5, 2017" data-time="9:30 pm">9:30 pm</button>
          </div>
        </div>
      </div>
      <div class="row border-bottom vertical-align list-item-next" data-direction="next">
        <div class="col-xs-12">
          <h4 class="mt-2 mb-1">Dec 6, 2017</h4>
          <div class="flex-container flex-wrap pb-1">
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 6, 2017" data-time="6:00 pm">6:00 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 6, 2017" data-time="7:00 pm">7:00 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 6, 2017" data-time="7:30 pm">7:30 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 6, 2017" data-time="8:00 pm">8:00 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 6, 2017" data-time="8:30 pm">8:30 pm</button>
          </div>
        </div>
      </div>
      <div class="row border-bottom vertical-align list-item-next" data-direction="next">
        <div class="col-xs-12">
          <h4 class="mt-2 mb-1">Dec 7, 2017</h4>
          <div class="flex-container flex-wrap pb-1">
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 7, 2017" data-time="6:00 pm">6:00 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 7, 2017" data-time="7:00 pm">7:00 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 7, 2017" data-time="7:30 pm">7:30 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 7, 2017" data-time="8:00 pm">8:00 pm</button>
          </div>
        </div>
      </div>
      <div class="row border-bottom vertical-align list-item-next" data-direction="next">
        <div class="col-xs-12">
          <h4 class="mt-2 mb-1">Dec 8, 2017</h4>
          <div class="flex-container flex-wrap pb-1">
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 8, 2017" data-time="5:00 pm">5:00 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 8, 2017" data-time="6:00 pm">6:00 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 8, 2017" data-time="7:30 pm">7:30 pm</button>
            <button class="btn btn-dark-red action-next mt-1 time-slot" data-direction="next" data-date="Dec 8, 2017" data-time="8:30 pm">8:30 pm</button>
          </div>
        </div>
      </div>
    </div> <!-- /.content -->
  
  </div>  <!-- /.body -->

  <nav class="actions">
    <button class="btn btn-default action-back" data-direction="available-restaurants">Back</button>
  </nav>

</section>

<!-- Confirmation Screen -->
<section class="screen">

  <div class="body">

    <div class="content">
      <h3 class="text-center text-bold">You're almost done</h3>
      <h5 class="text-center text-muted text-normal">Please confirm your reservation</h5>

      <div class="preview-data mt-3">
        <ul class="preview-list notice">
          <li class="text-small">Hurry! We can only hold this table for you for <span id="timer">4:54</span> minutes</li>
        </ul>
      </div>

      <div class="preview-data">
        <h5 class="text-uppercase text-semibold">
          Reservation Details
        </h5>

        <ul class="preview-list">
          <li class="preview-thumb">
            <img src="" alt="" class="full-width" id="selected-thumb">
          </li>
          <li>Date: <span id="selected-date" class="text-semibold"></span></li>
          <li>Time: <span id="selected-time" class="text-semibold"></span></li>
          <li>Restaurant: <span class="text-semibold" id="selected-restaurant"></span></li>
        </ul>
      </div>

      <form action="#" class="form-mobile">

        <h5 class="text-uppercase">Personal Information</h5>
        
        <fieldset class="fieldset-mobile">
          <div class="form-group">
            <label for="fname">First Name</label>
            <div class="form-field">
              <input type="text" id="fname" class="form-control" value="Sue">
            </div>
          </div>

          <div class="form-group">
            <label for="lname">Last Name</label>
            <div class="form-field">
              <input type="text" id="lname" class="form-control" value="Perb">
            </div>
          </div>

          <div class="form-group">
            <label for="email">Email</label>
            <div class="form-field">
              <input type="email" id="email" class="form-control" value="sue.perb@gmail.com">
            </div>
          </div>

          <div class="form-group">
            <label for="email">Phone</label>
            <div class="form-field">
              <input type="phone" id="phone" class="form-control" value="272 192 1726">
            </div>
          </div>
        </fieldset> 


      </form>
    </div> <!-- /.content -->
  </div>  <!-- /.body -->

  <nav class="actions">
    <button class="btn btn-default action-back" data-direction="back">Back</button>
    <button class="btn btn-dark-red action-next" data-direction="next">Complete Reservation</button>
  </nav>

</section>

<script src="../../js/jquery.min.js"></script>
<script src="../../js/bootstrap.min.js"></script>
<script src="../../js/app.js"></script>

<script>
app.init(onStateChange, onComplete);

function onStateChange(app, $this) {
    if ($this.data('restaurant')) {
        app.state.restaurant = $this.data('restaurant');
        $('#selected-restaurant').html($this.data('restaurant'));
    }

    if ($this.data('thumb')) {
        app.state.thumb = $this.data('thumb')
        $('#selected-thumb').attr({ src: $this.data('thumb') });
    }

    if ($this.data('date')) {
        app.state.date = $this.data('date');
        $('#selected-date').html($this.data('date'));
    }

    if ($this.data('time')) {
        app.state.time = $this.data('time');
        $('#selected-time').html($this.data('time'));
        document.getElementById('timer').innerHTML = 05 + ":" + 00;
        startTimer();
    }
}

function onComplete(app) {
    var text = 'Selection: a table at ' +
        app.state.restaurant +
        ' at ' +
        app.state.time +
        ' on ' +
        app.state.date;

    utils.postResponse({ text: text, imagePath: app.state.thumb.replace('../..', '') });
}

function checkSecond(sec) {
    if (sec < 10 && sec >= 0) {sec = "0" + sec}; // add zero in front of numbers < 10
    if (sec < 0) {sec = "59"};
    return sec;
}

function startTimer() {
    var presentTime = document.getElementById('timer').innerHTML;
    var timeArray = presentTime.split(/[:]+/);
    var m = timeArray[0];
    var s = checkSecond((timeArray[1] - 1));
    if(s == 59){
        m = m - 1;
    }

    document.getElementById('timer').innerHTML = m + ":" + s;
    setTimeout(startTimer, 1000);
}
</script>
</body>
</html>
